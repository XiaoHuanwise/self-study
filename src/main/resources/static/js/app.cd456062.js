(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["app"],{0:function(e,t,n){e.exports=n("cd49")},"0613":function(e,t,n){"use strict";n("9911");var r,a,c=n("5502"),o=n("0e44"),i={userInfo:function(e){return e.auth.userInfo},initLink:function(e){return e.link.initLink}},u=i,s=n("1da1"),l=n("ade3"),f=(n("96cf"),"SAVE_USER_INFO"),d={userInfo:{},isAuth:!1,code:""},m={namespaced:!0,state:d,mutations:(r={},Object(l["a"])(r,f,(function(e,t){e.userInfo=t})),Object(l["a"])(r,"STE_ISAUTH",(function(e,t){e.isAuth=t})),Object(l["a"])(r,"STE_CODE",(function(e,t){e.code=t})),r),actions:(a={},Object(l["a"])(a,f,(function(e,t){return Object(s["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,n.abrupt("return",r(f,t));case 2:case"end":return n.stop()}}),n)})))()})),Object(l["a"])(a,"STE_ISAUTH",(function(e,t){return Object(s["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,n.abrupt("return",r("STE_ISAUTH",t));case 2:case"end":return n.stop()}}),n)})))()})),Object(l["a"])(a,"STE_CODE",(function(e,t){return Object(s["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,n.abrupt("return",r("STE_CODE",t));case 2:case"end":return n.stop()}}),n)})))()})),a)},b=m,p={initLink:""},h={namespaced:!0,state:p,mutations:Object(l["a"])({},"SET_INIT_LINK",(function(e,t){console.log(t),e.initLink=t})),actions:{}},g=h,v=Object(c["a"])({modules:{auth:b,link:g},getters:u,plugins:[Object(o["a"])({storage:window.sessionStorage,reducer:function(e){return{auth:e.auth,link:e.link}}})]});t["a"]=v},"0cb2":function(e,t,n){"use strict";n("f978")},"29e9":function(e,t,n){"use strict";t["a"]={appKey:"lemon",appSecret:"7a858ff32628843043524b729cedfaa70623efc9",domain:"selfstudy.twt.edu.cn",baseURL:"https://selfstudy.twt.edu.cn/",extraBaseUrl:"https://api.twt.edu.cn/"}},"33a5":function(e,t,n){"use strict";e.exports={env:"production",mock:!0,title:"生产",baseUrl:"https://www.xxx.com/",baseApi:"https://www.xxx.com/api",APPID:"wx9790364d20b47d95",APPSECRET:"xxx",$cdn:"https://imgs.solui.cn"}},"6ac5":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return s}));var r=n("a78e"),a=n.n(r),c="Token",o="cookie";function i(){return a.a.get(c)}function u(e){return a.a.set(c,e)}function s(e){return a.a.set(o,e)}},9536:function(e,t,n){},afbc:function(e,t,n){"use strict";n("1276"),n("ac1f");var r=n("6c02"),a=(n("d3b7"),n("3ca3"),n("ddb0"),[{path:"/",name:"Home",component:function(){return n.e("chunk-117be93e").then(n.bind(null,"7431"))},redirect:"/home",meta:{title:"首页",keepAlive:!1},children:[{path:"/home",name:"Home",component:function(){return n.e("home").then(n.bind(null,"16c0"))},meta:{title:"首页",keepAlive:!1,showTab:!0,requireAuth:!1}},{path:"/fav",name:"Fav",component:function(){return n.e("fav").then(n.bind(null,"43f9"))},meta:{title:"收藏",keepAlive:!1,showTab:!0,requireAuth:!0}},{path:"/building",name:"Building",component:function(){return n.e("building").then(n.bind(null,"d312"))},meta:{title:"教学楼",keepAlive:!1,showTab:!0,requireAuth:!1}},{path:"/classroom",name:"Classroom",component:function(){return n.e("classroom").then(n.bind(null,"f3bc"))},meta:{title:"教室",keepAlive:!1,showTab:!0,requireAuth:!1}},{path:"/user",name:"User",component:function(){return n.e("user").then(n.bind(null,"7368"))},meta:{title:"我的",keepAlive:!1,showTab:!0,requireAuth:!0}},{path:"/login",name:"Login",component:function(){return n.e("login").then(n.bind(null,"d9c9"))},meta:{title:"登录",keepAlive:!1,showTab:!0,requireAuth:!1}}]}]),c=function(e){document.title=e},o=n("d257"),i=n("0613"),u=n("6ac5"),s=Object(r["a"])({history:Object(r["b"])("/"),scrollBehavior:function(e,t,n){return n||{top:0}},routes:a});s.beforeEach((function(e,t,n){if(c(e.meta.title),//! 解决ios微信下，分享签名不成功的问题,将第一次的进入的url缓存起来。
void 0===window.entryUrl&&(window.entryUrl=location.href.split("#")[0]),e.meta.requireAuth){var r=Object(u["a"])();r||n({path:"/login",query:{from:e.fullPath}})}n()})),s.afterEach((function(e,t,n){var r;r="ios"===Object(o["b"])()?window.entryUrl:window.location.href,i["a"].commit("link/SET_INIT_LINK",r)}));t["a"]=s},b32d:function(e,t,n){"use strict";var r=n("1da1"),a=(n("e7e5"),n("d399")),c=(n("96cf"),n("99af"),n("d3b7"),n("0613")),o=n("bc3a"),i=n.n(o),u=n("6ac5"),s=n("b383"),l=n.n(s),f=n("29e9"),d=f["a"].appKey,m=f["a"].appSecret,b=f["a"].domain,p=f["a"].baseURL,h=i.a.create({baseURL:p,timeout:5e3,withCredentials:!0,transformRequest:[function(e,t){if(!t["Content-Type"])return t["Content-Type"]="application/x-www-form-urlencoded",l.a.stringify(e);switch(t["Content-Type"]){case"multipart/form-data":return e;case"application/json":return JSON.stringify(e);default:return l.a.stringify(e)}}],headers:{domain:b,"Access-Control-Allow-Credentials":"true",ticket:window.btoa("".concat(d,".").concat(m))}});h.interceptors.request.use((function(e){return e.loading&&a["a"].loading({message:"加载中...",forbidClick:!0}),e.headers["token"]=Object(u["a"])(),e}),(function(e){Promise.reject(e)})),h.interceptors.response.use(function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a["a"].clear(),n=t.data,0===n.error_code){e.next=6;break}return e.abrupt("return",Promise.reject(new Error(n.message||"Error")));case 6:return e.abrupt("return",Promise.resolve(n));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){if(a["a"].clear(),e&&e.response)switch(e.response.status){case 400:e.message="请求错误(400)";break;case 401:e.message="未授权,请登录(401)";break;case 403:e.message="拒绝访问(403)";break;case 404:e.message="请求地址出错: ".concat(e.response.config.url);break;case 405:e.message="请求方法未允许(405)";break;case 408:e.message="请求超时(408)";break;case 500:e.message="服务器内部错误(500)";break;case 501:e.message="服务未实现(501)";break;case 502:e.message="网络错误(502)";break;case 503:e.message="服务不可用(503)";break;case 504:e.message="网络超时(504)";break;case 505:e.message="HTTP版本不受支持(505)";break;default:e.message="连接错误: ".concat(e.message)}else"Network Error"==e.message&&e.message,e.message="连接到服务器失败，请联系管理员";return Object(a["a"])(e.message),c["a"].dispatch("clearAuth"),Promise.reject(e)})),t["a"]=h},b7c7:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={set:function(e,t){window.sessionStorage.setItem(e,JSON.stringify(t))},get:function(e){var t=window.sessionStorage.getItem(e);return t&&"undefined"!=t&&"null"!=t?JSON.parse(t):null},remove:function(e){window.sessionStorage.removeItem(e)}}},cd49:function(e,t,n){"use strict";n.r(t);n("e623"),n("e379"),n("5dc8"),n("37e1");var r=n("7a23");function a(e,t,n,a,c,o){var i=Object(r["E"])("router-view");return Object(r["x"])(),Object(r["g"])(i)}var c=n("33a5");function o(e,t,n,a,c,o){return Object(r["x"])(),Object(r["g"])(r["c"],{to:"#vconsole"},[Object(r["j"])("div",{class:"vc-tigger",onClick:t[1]||(t[1]=function(){return e.toggleVc&&e.toggleVc.apply(e,arguments)})},"点我")])}console.log("production");n("caad"),n("466d"),n("ac1f"),n("4d63"),n("25f0");var i=n("3a34"),u=n.n(i);function s(e){var t=document.createElement("div");t.id=e,document.body.appendChild(t),Object(r["w"])((function(){document.body.removeChild(t)}))}var l=Object(r["k"])({name:"MobileConsole",props:{},setup:function(){s("vconsole");var e=Object(r["B"])({lastClickTime:0,count:0,limit:["production","prod"].includes(c.env||"")?5:0,vConsole:null}),t=function(e,t){return null===e||void 0===e?void 0:e.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))},n=function(e,n){t(e,n)||null===e||void 0===e||e.classList.add(n)},a=function(e,n){t(e,n)&&(null===e||void 0===e||e.classList.remove(n))},o=function(e,r){t(e,r)?a(e,r):n(e,r)},i=function(){var t=(new Date).getTime();if(t-e.lastClickTime<3e3?e.count++:e.count=0,e.lastClickTime=t,e.count>=e.limit){e.vConsole||(e.vConsole=new u.a);var n=document.getElementById("__vconsole");o(n,"vconsole_show"),e.count=0}};return Object(r["w"])((function(){e.vConsole=null})),{toggleVc:i}}});n("0cb2");l.render=o;var f=l,d=(n("9a83"),n("f564")),m=n("fc62"),b=n("b7c7"),p=function(){Object(m["c"])().then((function(e){var t=e.result;b["a"].set("semesterStart",t.semesterStartTimestamp),b["a"].set("semesterName",t.semesterName)})).catch((function(e){Object(d["a"])({type:"danger",message:"拉取学期信息失败"})}))},h=Object(r["k"])({name:"App",components:{MobileConsole:f},setup:function(){p(),console.log("环境配置",c)}});h.render=a;var g=h,v=n("afbc"),w=n("0613"),k=(n("9536"),n("5cfb"),n("2cbd"),n("ab2c")),O=(n("91d5"),n("f0ca")),j=(n("ab71"),n("58e6")),T=(n("6d73"),n("473d")),A=(n("38d5"),n("772a")),S=(n("be7f"),n("565f")),x=(n("2b28"),n("9ed2")),C=(n("bda7"),n("5e46")),E=(n("da3c"),n("0b33")),y=(n("4056"),n("44bf")),I=(n("a52c"),n("2ed4")),U=(n("537a"),n("ac28")),R=(n("0653"),n("34e9")),_=(n("c194"),n("7744")),L=(n("c3a6"),n("ad06")),N=(n("66b9"),n("b650")),P=(n("159b"),n("b0c0"),[N["a"],L["a"],_["b"],R["a"],U["b"],I["a"],y["a"],E["a"],C["b"],x["a"],S["a"],A["a"],d["a"],T["a"],j["a"],O["a"],k["a"]]),q={install:function(e){P.forEach((function(t){e.component(t.name,t)}))}},D=Object(r["f"])(g);D.use(q),D.use(w["a"]),D.use(v["a"]),D.mount("#app")},d257:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a}));n("d3b7"),n("25f0"),n("1276"),n("ac1f"),n("fb6a"),n("466d");var r=function(e){var t=document.location.toString();t=decodeURI(t);var n=t.split("?");if(n.length>1){for(var r,a=n[1].split("&"),c=0;c<a.length;c++)if(r=a[c].split("="),null!=r&&r[0]==e)return decodeURIComponent(r[1]);return""}return""},a=function(){var e=navigator.userAgent,t=(navigator.appVersion,e.indexOf("Android")>-1||e.indexOf("Linux")>-1),n=!!e.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/);return t?"android":n?"ios":void 0}},f978:function(e,t,n){},fc62:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i}));n("99af");var r=n("b32d"),a=n("29e9");function c(e){return Object(r["a"])({url:"getDayData/".concat(e.term,"/").concat(e.week,"/").concat(e.day),method:"get"})}function o(e){return Object(r["a"])({url:"getWeekData/".concat(e.term,"/").concat(e.week,"/").concat(e.classroom_id),method:"get"})}function i(){return Object(r["a"])({baseURL:a["a"].extraBaseUrl,url:"/api/semester",method:"get"})}}},[[0,"runtime","chunk-vantUI","chunk-libs"]]]);